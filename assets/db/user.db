CREATE DATABASE IF NOT EXISTS ev4;

USE ev4;

CREATE TABLE IF NOT EXISTS users(

    id INTEGER NOT NULL AUTO_INCREMENT,
    username VARCHAR(50) NOT NULL,
    email VARCHAR(100),
    age SMALLINT,
    password VARCHAR(255) NOT NULL,
    PRIMARY KEY (id)

);

INSERT INTO users(id, username, email, age, password) VALUES (null, "usuario1", "usuario1@gmail.com", 22, "usuario1");
INSERT INTO users(id, username, email, age, password) VALUES (null, "usuario2", "usuario2@gmail.com", 22, "usuario2");
INSERT INTO users(id, username, email, age, password) VALUES (null, "usuario3", "usuario3@gmail.com", 22, "usuario3");
INSERT INTO users(id, username, email, age, password) VALUES (null, "usuario4", "usuario4@gmail.com", 22, "usuario4");
INSERT INTO users(id, username, email, age, password) VALUES (null, "usuario5", "usuario5@gmail.com", 22, "usuario5");

CREATE TABLE IF NOT EXISTS videogame(

    id INTEGER NOT NULL AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    publication_date DATE,
    PRIMARY KEY (id)

);

CREATE TABLE IF NOT EXISTS category_game(

    id INTEGER NOT NULL AUTO_INCREMENT,
    name_category VARCHAR(150),
    PRIMARY KEY (id)

);

CREATE TABLE IF NOT EXISTS category_gameplay(

    id INTEGER NOT NULL AUTO_INCREMENT,
    name_category VARCHAR(150),
    PRIMARY KEY (id)

);

CREATE TABLE IF NOT EXISTS company(

    id INTEGER NOT NULL AUTO_INCREMENT,
    name_company VARCHAR(100),
    PRIMARY KEY (id)

);

CREATE TABLE IF NOT EXISTS videogame_ctg_game(

    id_videogame_ctg_game INTEGER NOT NULL AUTO_INCREMENT,
    videogame_id INTEGER NOT NULL,
    category_game_id INTEGER NOT NULL,
    PRIMARY KEY (id_videogame_ctg_game),
    FOREIGN KEY (videogame_id) REFERENCES videogame(id),
    FOREIGN KEY (category_game_id) REFERENCES category_game(id)
    
);

CREATE TABLE IF NOT EXISTS videogame_ctg_gameplay(

    id_videogame_ctg_gameplay INTEGER NOT NULL AUTO_INCREMENT,
    videogame_id INTEGER NOT NULL,
    category_gameplay_id INTEGER NOT NULL,
    PRIMARY KEY (id_videogame_ctg_gameplay),
    FOREIGN KEY (videogame_id) REFERENCES videogame(id),
    FOREIGN KEY (category_gameplay_id) REFERENCES category_gameplay(id)

);

CREATE TABLE IF NOT EXISTS videogame_company(

    id_videogame_company INTEGER NOT NULL AUTO_INCREMENT,
    videogame_id INTEGER NOT NULL,
    company_id INTEGER NOT NULL,
    PRIMARY KEY (id_videogame_company),
    FOREIGN KEY (videogame_id) REFERENCES videogame(id),
    FOREIGN KEY (company_id) REFERENCES company(id)

);

CREATE TABLE IF NOT EXISTS user_videogame(

    id_user_videogame INTEGER NOT NULL AUTO_INCREMENT,
    user_id INTEGER NOT NULL,
    videogame_id INTEGER NOT NULL,
    PRIMARY KEY (id_user_videogame),
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (videogame_id) REFERENCES videogame(id)

);


